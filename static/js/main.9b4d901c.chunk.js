(this.webpackJsonpjumpoint=this.webpackJsonpjumpoint||[]).push([[0],{39:function(t,e,n){},43:function(t,e,n){},44:function(t,e,n){"use strict";n.r(e);var a=n(1),i=n(0),s=n.n(i),o=n(10),c=n.n(o),r=n(7),l=n(11),d=n(12),h=n(14),p=n(13),j=n(48),u=n(57),b=n(49),O=n(52),m=n(53),x=n(9),v=n.n(x),y=n(27),f=n(28),g=(n(37),n(38),n(54)),C=n(50),k=n(51),w=n(30),S=n(55),P=n(56),D=(n(39),v.a.icon({iconUrl:y.a,shadowUrl:f.a,iconSize:[24,36],iconAnchor:[12,36]}));function L(t){return Object(j.a)("click",(function(e){t.savePosFunc(e.latlng)})),Object(a.jsx)(u.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"})}v.a.Marker.prototype.options.icon=D;var A=function(t){Object(h.a)(n,t);var e=Object(p.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:this.props.jumpoint.id}),Object(a.jsx)("td",{children:this.props.jumpoint.name}),Object(a.jsx)("td",{children:this.props.jumpoint.description}),Object(a.jsx)("td",{children:this.props.jumpoint.weather}),Object(a.jsx)("td",{children:this.props.jumpoint.createdAt})]})}}]),n}(s.a.Component),I=function(t){Object(h.a)(n,t);var e=Object(p.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(a.jsx)(b.a,{className:"smallMap",center:[49.873398,15.534668],zoom:6,scrollWheelZoom:!0,children:Object(a.jsx)(L,{savePosFunc:this.props.savePosFunc})})}}]),n}(s.a.Component),U=function(t){Object(h.a)(n,t);var e=Object(p.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var t=this;return Object(a.jsxs)(g.a,{show:this.props.show,onHide:this.props.handleClose,backdrop:"static",keyboard:!1,size:"lg",children:[Object(a.jsx)(g.a.Header,{closeButton:!0,children:Object(a.jsx)(g.a.Title,{children:"Add new place"})}),Object(a.jsx)(g.a.Body,{className:"show-grid",children:Object(a.jsx)(C.a,{children:Object(a.jsxs)(k.a,{children:[Object(a.jsx)(w.a,{md:4,children:Object(a.jsx)(S.a,{children:Object(a.jsxs)(S.a.Group,{children:[Object(a.jsx)(S.a.Label,{children:"Name:"}),Object(a.jsx)(S.a.Control,{type:"text",name:"name",id:"name",value:this.props.state.name,onChange:function(e){return t.props.handleChange(e,"name")}}),Object(a.jsx)(S.a.Label,{children:"Description:"}),Object(a.jsx)(S.a.Control,{as:"textarea",rows:3,id:"description",name:"description",value:this.props.state.description,onChange:function(e){return t.props.handleChange(e,"description")}}),Object(a.jsx)(S.a.Label,{children:"Latitude:"}),Object(a.jsx)(S.a.Control,{type:"text",id:"latitude",name:"latitude",value:this.props.state.location.lat,readOnly:!0}),Object(a.jsx)(S.a.Label,{children:"Longitude:"}),Object(a.jsx)(S.a.Control,{type:"text",id:"longitude",name:"longitude",value:this.props.state.location.lng,readOnly:!0})]})})}),Object(a.jsxs)(w.a,{md:8,children:[Object(a.jsx)("p",{children:"Click on map to locate"}),Object(a.jsx)(I,{savePosFunc:this.props.savePosition})]})]})})}),Object(a.jsxs)(g.a.Footer,{children:[Object(a.jsx)(P.a,{variant:"secondary",onClick:this.props.handleClose,children:"Close"}),Object(a.jsx)(P.a,{variant:"primary",onClick:this.props.handleSubmit,children:"Save"})]})]})}}]),n}(s.a.Component),F=function(t){Object(h.a)(n,t);var e=Object(p.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(a.jsxs)(g.a,{className:"updateModal",show:this.props.show,onHide:this.props.handleClose,backdrop:"static",keyboard:!1,children:[Object(a.jsx)(g.a.Header,{closeButton:!0,children:Object(a.jsxs)(g.a.Title,{children:["Update place ",this.props.state.name]})}),Object(a.jsx)(g.a.Body,{className:"show-grid",children:Object(a.jsx)(S.a,{children:Object(a.jsxs)(S.a.Group,{controlId:"exampleForm.ControlInput1",children:[Object(a.jsx)(S.a.Label,{children:"Name:"}),Object(a.jsx)(S.a.Control,{type:"text",name:"name",id:"name",value:this.props.state.name,readOnly:!0}),Object(a.jsx)(S.a.Label,{children:"Description:"}),Object(a.jsx)(S.a.Control,{as:"textarea",rows:3,name:"description",id:"description",value:this.props.state.description,onChange:this.props.handleChange}),Object(a.jsx)(S.a.Label,{children:"Latitude:"}),Object(a.jsx)(S.a.Control,{type:"text",id:"latitude",name:"latitude",value:this.props.state.location.lat,readOnly:!0}),Object(a.jsx)(S.a.Label,{children:"Longitude:"}),Object(a.jsx)(S.a.Control,{type:"text",id:"longitude",name:"longitude",value:this.props.state.location.lng,readOnly:!0})]})})}),Object(a.jsxs)(g.a.Footer,{children:[Object(a.jsx)(P.a,{variant:"secondary",onClick:this.props.handleClose,children:"Close"}),Object(a.jsx)(P.a,{variant:"primary",onClick:this.props.handleSubmit,children:"Save Changes"})]})]})}}]),n}(s.a.Component),M=function(t){Object(h.a)(n,t);var e=Object(p.a)(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t)).handleAddClose=a.handleAddClose.bind(Object(r.a)(a)),a.handleAddShow=a.handleAddShow.bind(Object(r.a)(a)),a.handleChange=a.handleChange.bind(Object(r.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(r.a)(a)),a.savePosition=a.savePosition.bind(Object(r.a)(a)),a.state={showAdd:!1,name:"",description:"",location:{lat:"",lng:""}},a}return Object(d.a)(n,[{key:"savePosition",value:function(t){this.setState({location:t})}},{key:"handleAddClose",value:function(){this.setState({showAdd:!1})}},{key:"handleAddShow",value:function(){this.setState({showAdd:!0})}},{key:"handleChange",value:function(t,e){"name"===e&&this.setState({name:t.target.value}),"description"===e&&this.setState({description:t.target.value})}},{key:"handleSubmit",value:function(t){var e=this;t.preventDefault(),fetch("https://jumpoints.herokuapp.com/api/jumpoints",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:this.state.name,description:this.state.description,latitude:this.state.location.lat,longitude:this.state.location.lng})}).then((function(){e.props.updateFunc(),e.setState({showAdd:!1,name:"",description:"",location:{lat:"",lng:""}})}))}},{key:"render",value:function(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(C.a,{className:"navigation",fluid:!0,children:Object(a.jsx)(k.a,{children:Object(a.jsxs)(w.a,{children:[Object(a.jsx)(P.a,{variant:"primary",onClick:this.handleAddShow,children:"Add New Place"}),Object(a.jsxs)(P.a,{variant:"primary",onClick:this.props.displayFunc,children:["Display ",this.props.show?"List":"Map"]})]})})}),Object(a.jsx)(U,{state:this.state,show:this.state.showAdd,handleChange:this.handleChange,handleSubmit:this.handleSubmit,handleClose:this.handleAddClose,handleShow:this.handleAddShow,savePosition:this.savePosition})]})}}]),n}(s.a.Component),N=function(t){Object(h.a)(n,t);var e=Object(p.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(d.a)(n,[{key:"renderJumpoint",value:function(t){var e=this;return Object(a.jsx)(O.a,{position:[t.latitude,t.longitude],eventHandlers:{click:function(n){e.props.myFunc(t.id)}},children:Object(a.jsxs)(m.a,{children:[Object(a.jsx)("strong",{children:"Name:"})," ",t.name," ",Object(a.jsx)("br",{}),Object(a.jsx)("strong",{children:"Description:"})," ",t.description," ",Object(a.jsx)("br",{}),Object(a.jsx)("strong",{children:"Weather:"})," ",t.weather," ",Object(a.jsx)("br",{}),Object(a.jsxs)("div",{className:"markerButtons",children:[Object(a.jsx)(P.a,{variant:"outline-primary",size:"sm",onClick:function(){return e.props.setIdFunc(t.id)},children:"Update"}),Object(a.jsx)(P.a,{variant:"outline-danger",size:"sm",onClick:function(){return e.props.delFunc(t.id)},children:"Delete"})]})]})},t.id)}},{key:"render",value:function(){var t=this;return Object(a.jsxs)(b.a,{className:"map",center:[49.873398,15.534668],zoom:8,scrollWheelZoom:!0,children:[Object(a.jsx)(u.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),this.props.items.map((function(e){return t.renderJumpoint(e)}))]})}}]),n}(s.a.Component),B=function(t){Object(h.a)(n,t);var e=Object(p.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(d.a)(n,[{key:"renderJumpoint",value:function(t){return Object(a.jsx)(A,{jumpoint:t},t.id)}},{key:"render",value:function(){var t=this;return Object(a.jsxs)("table",{className:"table table-sm table-hover",children:[Object(a.jsx)("thead",{className:"thead-dark",children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"Id"}),Object(a.jsx)("th",{children:"Name"}),Object(a.jsx)("th",{children:"Description"}),Object(a.jsx)("th",{children:"Weather"}),Object(a.jsx)("th",{children:"CreatedAt"})]})}),Object(a.jsx)("tbody",{children:this.props.items.map((function(e){return t.renderJumpoint(e)}))})]})}}]),n}(s.a.Component),T=function(t){Object(h.a)(n,t);var e=Object(p.a)(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t)).switchLocation=a.switchLocation.bind(Object(r.a)(a)),a.getData=a.getData.bind(Object(r.a)(a)),a.setPlaceId=a.setPlaceId.bind(Object(r.a)(a)),a.handleUpdateClose=a.handleUpdateClose.bind(Object(r.a)(a)),a.handleUpdateShow=a.handleUpdateShow.bind(Object(r.a)(a)),a.handleChange=a.handleChange.bind(Object(r.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(r.a)(a)),a.savePosition=a.savePosition.bind(Object(r.a)(a)),a.delPosition=a.delPosition.bind(Object(r.a)(a)),a.handleListMapToggle=a.handleListMapToggle.bind(Object(r.a)(a)),a.state={items:[],showMap:!0,showUpdate:!1,name:"",description:"",location:{lat:"",lng:""},placeId:-1},a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.getData()}},{key:"getData",value:function(){var t=this;return fetch("https://jumpoints.herokuapp.com/api/jumpoints/").then((function(t){return t.json()})).then((function(e){return t.setState({items:e})}))}},{key:"switchLocation",value:function(t){var e=this.state.items.slice(),n=e.map((function(t){return t.id})).indexOf(t);e.splice(0,0,e.splice(n,1)[0]),this.setState({items:e})}},{key:"setPlaceId",value:function(t){var e=this;this.setState({placeId:t},(function(){e.loadDataByID(),e.handleUpdateShow()}))}},{key:"handleUpdateClose",value:function(){this.setState({showUpdate:!1}),this.resetData()}},{key:"handleUpdateShow",value:function(){this.setState({showUpdate:!0})}},{key:"savePosition",value:function(t){this.setState({location:t})}},{key:"handleListMapToggle",value:function(){this.setState({showMap:!this.state.showMap})}},{key:"delPosition",value:function(t){var e=this;fetch("https://jumpoints.herokuapp.com/api/jumpoints/"+t,{method:"delete",headers:{"Content-Type":"application/json"}}).then((function(){e.getData(),e.setState({showUpdate:!1,name:"",description:"",location:{lat:"",lng:""}})}))}},{key:"getIndexById",value:function(t){return this.state.items.slice().map((function(t){return t.id})).indexOf(t)}},{key:"loadDataByID",value:function(){var t=this.getIndexById(this.state.placeId);console.log(t);var e=this.state.items[t];this.setState({name:e.name,description:e.description,location:{lat:e.latitude,lng:e.longitude}})}},{key:"resetData",value:function(){this.setState({showAdd:!1,showUpdate:!1,name:"",description:"",location:{lat:"",lng:""}})}},{key:"handleChange",value:function(t){this.setState({description:t.target.value})}},{key:"handleSubmit",value:function(t){var e=this;t.preventDefault();var n="https://jumpoints.herokuapp.com/api/jumpoints/"+this.state.placeId;fetch(n,{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify({description:this.state.description})}).then((function(){e.getData(),e.setState({showUpdate:!1,name:"",description:"",location:{lat:"",lng:""}})}))}},{key:"render",value:function(){var t=null;return t=this.state.showMap?Object(a.jsx)(N,{items:this.state.items,setIdFunc:this.setPlaceId,myFunc:this.switchLocation,savePosFunc:this.savePosition,delFunc:this.delPosition}):Object(a.jsx)(B,{items:this.state.items}),Object(a.jsxs)("div",{className:"main",children:[Object(a.jsx)(M,{show:this.state.showMap,updateFunc:this.getData,displayFunc:this.handleListMapToggle}),Object(a.jsx)(F,{state:this.state,show:this.state.showUpdate,handleChange:this.handleChange,handleSubmit:this.handleSubmit,handleClose:this.handleUpdateClose,handleShow:this.handleUpdateShow,savePosition:this.savePosition}),t]})}}]),n}(s.a.Component);n(43);c.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(T,{})}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.9b4d901c.chunk.js.map